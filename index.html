<!--
    test page
-->
<html>
    <head>
        <meta charset="UTF8">
        <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <script crossorigin src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
        <script src="/reactel.js"></script>
    </head>
    <self></self>
    <script>
    // okay now use elementary in the render function of an app

    function Circle({radius, color}){
        radius = Number(radius) * 100

        return elementary(
        {div: {
            style: {
                background: color,
                width: radius + 'px',
                height: radius + 'px',
                borderRadius: '50%'
            }
        }})
    }
    function RadiusInput({name, value, onChange}){
        return elementary(
        {input: {
            type: 'range',
            step: '0.01',
            min: '1',
            max: '5',
            name,
            value,
            onChange
        }}
        )
    }
    
    class App extends React.Component {
        constructor(props){
            super(props)
            this.state = {
                radius: 1,
                color: '#ffaa00',
            }
            this.handleChange = this.handleChange.bind(this)
        }

        handleChange(event){
            this.setState({
                [event.target.name]: event.target.value
            })
        }

        render(){
            let {radius, color} = this.state
            return elementary([
                {form: [
                    {RadiusInput: {
                        name: 'radius',
                        value: radius,
                        onChange: this.handleChange
                    }},
                    {input: {
                        name: 'color',
                        type: 'color',
                        value: color,
                        onChange: this.handleChange
                    }}
                ]},
                {Circle: {radius, color}}
            ])
        }
    }
    ReactDOM.render(
        elementary(App),
        document.body.firstChild
    )
    </script>
</html>